security:
    encoders:
        SOFFT\AnglaisBundle\Entity\User: plaintext
        Symfony\Component\Security\Core\User\User: plaintext

    providers:
      chain_provider:
        providers: [in_memory, user_db]
      in_memory: 
        users:
          admin: {password: %admin_password%, roles: [ROLE_USER, ROLE_ADMIN]}
      user_db:
        entity: { class: SOFFT\AnglaisBundle\Entity\User, property: username }

    firewalls:
      dev:
        pattern:  ^/(_(profiler|wdt)|css|images|js)/
        security: false

      secured_area:
        pattern: ^/
        form_login:
          check_path: /login_check
          login_path: /login
        logout:
          path:   /logout
          target: /login
        anonymous: ~
          #http_basic: ~
          #    realm: "Secured Demo Area"

    access_control:
      - { path: ^/login, roles: IS_AUTHENTICATED_ANONYMOUSLY }
      - { path: ^/, roles: ROLE_USER }
      
        #- { path: ^/_internal, roles: IS_AUTHENTICATED_ANONYMOUSLY, ip: 127.0.0.1 }
